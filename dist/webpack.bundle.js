(()=>{const e=document.querySelector("#enviar"),t=document.querySelector("#formulario"),n=document.querySelector(".temperaturas div:first-child"),o=document.querySelector(".temperaturas div:last-child"),i=document.querySelector("#parcial section div"),r=(document.querySelector("body"),"5573836c8af308c0056cd2e5dbd18627");var a=new Date,d=a.getDay();a.getHours();function c(){var e=new Date,t=e.getHours(),n=e.getMinutes();return(t=t<10?"0"+t:t)+":"+(n<10?"0"+n:n)}window.addEventListener("load",(()=>{e.addEventListener("submit",s)}));const l={AR:"Buenos aires",CO:"Bogota",CR:"San Jose",ES:"Madrid",US:"Washington D. C.",MX:"Ciudad de México",PE:"Lima",UY:"Montevideo",BR:"Brasilia",EC:"Quito",HN:"Tegucigalpa",BO:"Sucre",PY:"Asunción",NI:"Managua",GT:"Ciudad de Guatemala",SV:"San Salvador",PR:"San Juan"};function s(e){e.preventDefault();let t=document.querySelector("#pais").value,a=document.querySelector("#ciudad").value;if([t,a].includes(""))return u("Los campos son obligatorios"),void console.log("MISSING_ENV_VAR".APP_LOCAL);let s=a[0].toUpperCase()+a.slice(1,a.length);l[t]===s?function(e,t){const a=`https://api.openweathermap.org/data/2.5/weather?q=${e},${t}&appid=${r}`;(function(){h(),v();const e=document.createElement("div");e.classList.add("spinner"),i.appendChild(e)})(),fetch(a).then((e=>e.json())).then((e=>{h(),v(),console.log(e),"404"!==e.cod?function(e){const{main:{temp:t,temp_max:r,temp_min:a},name:l,weather:[{main:s}]}=e,u=p(t),h=p(r),v=p(a),C=document.createElement("h3");C.innerHTML=`Maxima: ${h} º C`,n.appendChild(C);const g=document.createElement("h3");g.innerHTML=`Minima: ${v} º C`,o.appendChild(g);const f=document.createElement("h1");f.innerHTML=`${l}`,i.appendChild(f);const S=document.createElement("span");S.innerHTML=m(s),i.appendChild(S);const M=document.createElement("h3");M.innerHTML=`${u} º C`,i.appendChild(M);const L=document.createElement("p");var E;L.innerHTML=`${E=d,0==E?"Domingo":1==E?"Lunes":2==E?"Martes":3==E?"Miercoles":4==E?"Jueves":5==E?"Viernes":6==E?"Sabado":"Undefined"}, ${c()}`,i.appendChild(L)}(e):u("Ciudad no encontrada")}))}(s,t):u("El campo es incorrecto")}function u(e){if(!document.querySelector(".error")){const n=document.createElement("div");n.classList.add("error"),n.innerHTML=`\n        <p style="text-align: center; font-size: 22px; color: red;">${e}</p>\n        `,t.appendChild(n),setTimeout((()=>{n.remove()}),6e3)}}const m=e=>"Clear"===e?"<img src=public/bxs-sun.svg alt=sol id=weather>":"Rain"===e?"<img src=public/cloud-rain-solid.svg alt=lluvia id=weather>":"Clouds"===e?"<img src=public/cloud-solid.svg alt=nubes id=weather>":"Thunderstorm"===e?"<img src=public/poo-storm-solid.svg alt=tormentas id=weather>":"Drizzle"===e?"<img src=public/bx-cloud-drizzle.svg alt=lluvioso id=weather>":"";setInterval(c,1e3),c();const p=e=>Math.round(e-273.15);function h(){for(;i.firstChild;)i.removeChild(i.firstChild)}function v(){for(;n.firstChild;)n.removeChild(n.firstChild),o.removeChild(o.firstChild)}})();